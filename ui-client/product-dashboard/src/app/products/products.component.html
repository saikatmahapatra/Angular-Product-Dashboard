<h2>Products</h2>
<div class="row">
  <div class="col-md-12 mb-3">
    <div class="filters">
      <select [(ngModel)]="filters.category" (change)="loadProducts()">
        <option [value]="undefined">All Categories</option>
        <option *ngFor="let cat of categories" [value]="cat.id">
          {{cat.name}}
        </option>
      </select>

    </div>
  </div>
</div>

<div class="row" *ngIf="!isLoading">
  <div class="col-md-3 mb-3" *ngFor="let product of products">
    <mat-card class="product-card" appearance="outlined">
      <mat-card-header>
        <mat-card-title>{{product?.title | slice:0:25}}...</mat-card-title>
        <mat-card-subtitle>{{product?.category_name}}</mat-card-subtitle>
      </mat-card-header>
      <img mat-card-image [attr.src]="product?.image_url" alt="{{product?.title}}">
      <mat-card-content>
        <p>
          {{product?.description | slice:0:50}}...
        </p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button class="me-2">Details</button>
        <button mat-raised-button>Add to cart</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>

<div class="row" *ngIf="isLoading">
  <div class="col-md-12">Loading...</div>
</div>